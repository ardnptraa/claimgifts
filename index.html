<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claim Your Gift ğŸ</title>

<style>
body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  font-family:Arial,sans-serif;
}
.box{
  background:#fff;
  padding:25px;
  border-radius:20px;
  width:330px;
  text-align:center;
}
input, button{
  margin-top:15px;
}
button{
  padding:10px 18px;
  border:none;
  border-radius:20px;
  background:#26453d;
  color:#fff;
  cursor:pointer;
}
button:disabled{
  background:#aaa;
}
#preview{
  margin-top:15px;
  width:100%;
  border-radius:15px;
  display:none;
}
.date{
  margin-top:10px;
  font-size:13px;
  color:#444;
}
.note{
  font-size:12px;
  color:#666;
  margin-top:8px;
}
</style>
</head>

<body>

<div class="box">
  <h2>ğŸ CLAIM YOUR GIFT ğŸ</h2>
  <p>Ambil <b>1 foto hari ini</b> dengan senyum ğŸ˜Š</p>

  <div class="date" id="today"></div>

  <input 
    type="file" 
    accept="image/*" 
    capture="user"
    id="photoInput"
    onchange="previewPhoto()"
  >

  <img id="preview">

  <button id="waBtn" disabled onclick="sendWA()">
    ğŸ“² KIRIM FOTO KE WHATSAPP
  </button>

  <div class="note">
    *Tanggal & jam otomatis tercatat
  </div>
</div>

<script>
let selectedFile = null;

// tampilkan tanggal hari ini
const now = new Date();
const hari = now.toLocaleDateString("id-ID", {
  weekday: "long",
  year: "numeric",
  month: "long",
  day: "numeric"
});
const jam = now.toLocaleTimeString("id-ID", {
  hour: "2-digit",
  minute: "2-digit"
});

document.getElementById("today").innerHTML =
  `ğŸ“… ${hari}<br>ğŸ•’ ${jam} WIB`;

function previewPhoto(){
  const input = document.getElementById("photoInput");
  const img = document.getElementById("preview");
  const btn = document.getElementById("waBtn");

  if(input.files && input.files[0]){
    selectedFile = input.files[0];
    img.src = URL.createObjectURL(selectedFile);
    img.style.display = "block";
    btn.disabled = false;
  }
}

async function sendWA(){
  const phone = "6285606186250"; // GANTI NOMOR WA

  const text =
`Aku sudah claim gift ğŸ
ğŸ“… Tanggal: ${hari}
ğŸ•’ Jam: ${jam} WIB
ğŸ˜Š Ini fotoku hari ini dengan senyum`;

  if(navigator.share){
    try{
      await navigator.share({
        title: "Claim Gift",
        text: text,
        files: [selectedFile]
      });
    }catch(e){
      alert("Pengiriman dibatalkan");
    }
  }else{
    const msg = encodeURIComponent(text);
    window.open(`https://wa.me/${phone}?text=${msg}`);
  }
}
</script>

</body>
</html>
